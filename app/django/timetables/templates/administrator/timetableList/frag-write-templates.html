{# Templates for links #}
<script id="js-templ-link" type="text/template">
  <div class="js-value value">
    <a target="_blank" href="/<%= linkFullpath %>.list-write.admin.html"><%= moduleName %>, <%= partName %></a>
    <div class="actions">
      <a href="javascript:;" class="icon-trash js-btn-remove" title="remove"><span class="hideMe">remove</span></a>
    </div>
  </div>
  <div class="js-selector selector">
    <select class="js-module-select">
      <option value="" disabled="disabled" selected="selected">Choose a subject</option>
      {% include "subject-picker.html" %}
    </select>

    <select class="js-part-select">
      <option value="" disabled="disabled" selected="selected">Choose a part</option>
    </select>

    <a href="javascript:;" class="btn btn-link btn-small js-btn-cancel">cancel</a>
    <a href="javascript:;" class="btn btn-success btn-small js-btn-save">Save</a>
  </div>
</script>

{# Templates for new events #}
<script id="js-templ-new-event" type="text/template">
  <tr class="event js-event event-editable event-new row-being-edited">
    <td title="Title" class="event-field eventTitle">
      <div class="js-field js-field-title event-input" contenteditable="true" data-value="" tabindex="0">Title</div>
    </td>

    <td title="Event Type" class="event-field eventType event-type-input-wrap js-event-type-input-wrap" data-value="" tabindex="0">
      <span class="event-type js-field js-field-type event-type-none">
      </span>

      <select class="input-medium event-type js-field js-field-type">
          <!--
          <option value="">&mdash;</option>
          -->
          <option value="">—</option>
          <option value="Practical">Practical</option>
          <option value="Language Class">Language Class</option>
          <option value="Lecture" selected="selected">Lecture</option>
          <option value="Laboratory">Laboratory</option>
          <option value="Seminar">Seminar</option>
      </select>
    </td>

    <td class="event-field js-date-time-cell eventDateTime" tabindex="0">
      <div class="event-input js-date-time-input-wrap">
        <span class="js-focus-catcher js-focus-catcher-before" tabindex="0"></span>
        <span title="Thursday 7th March ">
          <span>W </span><span data-value="1" class="js-field-week">1</span><span> in </span><span data-value="Michaelmas" class="js-field-term">Michaelmas</span><span>, on </span><span data-value="thu" class="js-field-day">Thu</span><span>&nbsp;</span></span><span class="js-field-start-hour">09</span><span>:</span><span class="js-field-start-minute">00</span><span>–</span><span class="js-field-end-hour">11</span><span>:</span><span class="js-field-end-minute">00</span>

        <div class="dialog-holder js-dialog-holder"></div>
        <span class="js-focus-catcher js-focus-catcher-after" tabindex="0"></span>
      </div>
    </td>

    <td title="Location" class="event-field eventLocation">
      <div class="js-field js-field-location event-input" tabindex="0" data-value="" contenteditable="true">Location</div>
    </td>

    <td title="Lecturer/host/etc" class="event-field eventLecturers">
      <div class="js-field js-field-people event-input" tabindex="0" data-value="" contenteditable="true">Lecturer/host/etc</div>
    </td>
    
    <td class="eventActions" tabindex="5">
      <ul class="buttons">
        <li>
          <a href="#" class="icon-trash remove js-remove-icon" title="remove"><span class="hideMe">remove</span></a>
        </li>
      </ul>
    </td>

  </tr>
</script>

{# New series title template #}
<script id="js-templ-new-series" type="text/template">
  <div class="series js-series">
    <div class="series-title collapsed clearfix js-series-title">
      <h5 class="js-collapse">
        <span class="chevron icon-chevron-right js-expansion-indicator"></span>
        <span class="js-value title" data-save-path="/series/new">Series title</span>
        <span class="js-error-message error-message dontDisplayMe"></span>
      </h5>

      <p class="buttons js-series-buttons">
        <a href="#" class="icon-pencil js-edit-icon" title="edit"><span class="hideMe">edit</span></a>
        <a href="#" class="icon-plus-sign notImplemented" title="attach"><span class="hideMe">attach</span></a>
        <a href="#" class="icon-file notImplemented" title="duplicate"><span class="hideMe">duplicate</span></a>
        <a href="#" class="icon-trash js-remove" title="remove"><span class="hideMe">remove</span></a>
      </p>
    </div>
  </div>
</script>

{# New series content template #}
<script id="js-templ-new-series-content" type="text/template">
  <div class="events js-events clearfix collapse">
    <table class="table table-striped">
      <tbody>
      </tbody>
    </table>

    <a href="javascript:;" class="js-btn-add-event addEvent pull-left btn btn-link">
      <span class="icon-plus-sign"></span>Add event
    </a>
    <ul class="js-save-cancel-btns seriesEditActions pull-right" style="display: none;">
      <li class="pull-left">
        <a href="javascript:;" class="js-btn-cancel cancel">cancel</a>
      </li>
      <li class="pull-left">
        <a href="javascript:;" class="js-btn-save save btn btn-success" title="save event series" data-loading-text="Saving...">Save</a>
      </li>
    </ul>
  </div>
</script>

{# New module title template #}
<script id="js-templ-new-module" type="text/template">
  <div class="module js-module">
    <div class="js-module-title module-title clearfix">
      <h4 class="js-collapse collapsed">
        <span class="chevron js-expansion-indicator icon-chevron-right"></span>
        <span class="title js-value" data-save-path="/module/new">Module title</span>
        <span class="js-error-message error-message dontDisplayMe"></span>
      </h4>

      <p class="buttons js-module-buttons">
        <a href="#" class="icon-pencil js-edit-icon" title="edit"><span class="hideMe">edit</span></a>
        <a href="#" class="icon-plus-sign notImplemented" title="attach"><span class="hideMe">attach</span></a>
        <a href="#" class="icon-file notImplemented" title="duplicate"><span class="hideMe">duplicate</span></a>
        <a href="#" class="icon-trash js-remove" title="remove"><span class="hideMe">remove</span></a>
      </p>
    </div>
  </div>
</script>

{# New module content template #}
<script id="js-templ-new-module-content" type="text/template">
  <div class="moduleContent module-content js-module-content collapse">
    <a href="#" class="btn btn-small addSeries js-btn-add-series"><span class="icon-add-series"></span>Add series</a>
    <div class="seriesList js-series-list">
      <p class="js-no-series no-series">This module contains no series.</p>
    </div>
  </div>
</script>


{# Remove dialog templates #}
<script id="js-templ-remove-dialog" type="text/template">
  <% if (state === "start" || state === "progress") { %>
    <div class="modal-header">
      <% if (state !== "progress") { %>
        <a href="#" class="close" data-dismiss="modal">&times;</a>
      <% } %>
      <h3><%= titleText %></h3>
    </div>
  <% } %>

  <% if (state === "start") { %>
    <div class="modal-body js-state-start js-delete-contents">
      <%= contentsText %>
    </div>

    <div class="modal-footer">
      <a href="#" data-dismiss="modal" class="btn btn-link">cancel</a>
      <a href="#" class="btn btn-danger js-confirm"><%= confirmBtnText %></span></a>
    </div>
  <% } %>

  <% if (state === "progress")  { %>
    <div class="modal-body">
      <h5><%= removingTitleText %></h5>
      <div class="loading-indicator-content">
        <div class="progress progress-striped active">
          <div class="bar" style="width: 40%;"></div>
        </div>
      </div>
    </div>
  <% } %>

  <% if (state === "error") { %>
    <div class="modal-header">
      <a href="#" class="close" data-dismiss="modal">&times;</a>
      <h3><%= titleText %></h3>
    </div>

    <div class="modal-body">
      <%= errorText %>
    </div>

    <div class="modal-footer">
      <a href="#" data-dismiss="modal" class="btn btn-primary">Close</a>
    </div>
  <% } %>
</script>

<script id="js-templ-remove-module-series-popup-title" type="text/template">
  Delete '<%= title %>'
</script>
<script id="js-templ-remove-module-series-popup-removing-title" type="text/template">
  Deleting '<%= title %>'...
</script>
<script id="js-templ-remove-module-popup-contents" type="text/template">
  <p>This <%= type %> and its <%= totalSeries %> series and all of their events will be deleted and will no longer appear in people's timetables. This can't be undone.</p>
  <p>Are you sure you want to delete this <%= type %>?</p>
</script>
<script id="js-templ-remove-series-popup-contents" type="text/template">
  <p>This <%= type %> and all of its events will be deleted and will no longer appear in people's timetables. This can't be undone.</p>
  <p>Are you sure you want to delete this <%= type %>?</p>
</script>
<script id="js-templ-remove-module-series-popup-btn-confirm" type="text/template">
  Delete <%= type %>
</script>
<script id="js-templ-remove-module-series-popup-error" type="text/template">
  <h5>Oops, something went wrong.</h5>
  <p>Apparently something went wrong when trying to delete <%= title %>.<br/>Please try again later.</p>
</script>

<script id="js-templ-remove-link-popup-title" type="text/template">
  Delete link
</script>
<script id="js-templ-remove-link-popup-removing-title" type="text/template">
  Deleting link...
</script>
<script id="js-templ-remove-link-popup-btn-confirm" type="text/template">
  Delete link
</script>
<script id="js-templ-remove-link-popup-error" type="text/template">
  <h5>Oops, something went wrong.</h5>
  <p>Apparently something went wrong when trying to delete the link to '<%= link %>'.<br/>Please try again later.</p>
</script>
<script id="js-templ-remove-link-popup-contents" type="text/template">
  <p>This link won't show up in timetable '<%= timetable %>' anymore.</p>
  <p>Are you sure you want to delete this link?</p>
</script>


{# Error dialog templates #}
<script id="js-templ-error-dialog" type="text/template">
  <div class="modal-header">
    <a href="#" class="close" data-dismiss="modal">&times;</a>
    <h3><%= titleText %></h3>
  </div>

  <div class="modal-body">
    <%= messageText %>
  </div>

  <div class="modal-footer">
    <a href="#" data-dismiss="modal" class="btn btn-primary">Close</a>
  </div>
</script>

<script id="js-templ-error-popup-save-link-title" type="text/template">
  Error saving new link
</script>
<script id="js-templ-error-popup-save-link-message" type="text/template">
  <p>Apparently there was an error when we tried to link your timetable to '<%= link %>'.</p>
  <p>Please try again later or contact support if the problem persists.</p>
</script>
